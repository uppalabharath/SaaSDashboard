-- DDL for tables --
ALTER TABLE SPENTERPRISE ADD ROWCREATIONDATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL;
ALTER TABLE SPENTERPRISE ADD ROWMODIFIEDDATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL;
ALTER TABLE SPENTERPRISE MODIFY ROWCREATIONDATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL;
CREATE TABLE SPPRODUCT
  (
    PRODUCT_ID    NUMBER(9),
    NAME          VARCHAR2(255) NOT NULL,
    ENTERPRISE_ID NUMBER(9),
    ROWCREATIONDATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
    ROWMODIFIEDDATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
    CONSTRAINT SPPRODUCT_PK PRIMARY KEY (PRODUCT_ID),
    CONSTRAINT PRODUCT_ENT_FK FOREIGN KEY (ENTERPRISE_ID) REFERENCES SPENTERPRISE(ENTERPRISE_ID)
  );
  
  INSERT INTO SPPRODUCT (PRODUCT_ID,NAME,ENTERPRISE_ID) VALUES (SPPRODUCT_S.NEXTVAL,?,?);

SELECT P.PRODUCT_ID,P.NAME,P.ENTERPRISE_ID,E.NAME FROM SPPRODUCT P inner join SPENTERPRISE E on P.ENTERPRISE_ID = E.ENTERPRISE_ID where P.PRODUCT_ID=?;

UPDATE SPPRODUCT SET NAME=?,ENTERPRISE_ID=?,ROWMODIFIEDDATE=CURRENT_TIMESTAMP WHERE PRODUCT_ID=?;

DELETE FROM SPPRODUCT WHERE PRODUCT_ID = ?;

CREATE TABLE SPPRODUCTDETAIL
  (
    PRODUCTDETAIL_ID    NUMBER(9),
    --NAME          VARCHAR2(255) NOT NULL,
    PRODUCT_ID NUMBER(9),
    BLOCK1 CLOB,
    BLOCK2 CLOB,
    BLOCK3 CLOB,
    ROWCREATIONDATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
    ROWMODIFIEDDATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
    CONSTRAINT SPPRODUCTDETAIL_PK PRIMARY KEY (PRODUCTDETAIL_ID),
    CONSTRAINT PRODUCTDETAIL_PRODUCT_FK FOREIGN KEY (PRODUCT_ID) REFERENCES SPPRODUCT(PRODUCT_ID)
  );
  ALTER TABLE SPPRODUCTDETAIL ADD CONSTRAINT PRODDET_PROD_U UNIQUE (PRODUCT_ID);
  ALTER TABLE SPPRODUCTDETAIL MODIFY PRODUCT_ID NUMBER(9) NOT NULL;
  SELECT * FROM SPPRODUCTDETAIL;
  INSERT INTO SPPRODUCTDETAIL (PRODUCTDETAIL_ID,PRODUCT_ID,BLOCK1,BLOCK2,BLOCK3) VALUES (SPPRODUCTDETAIL_S.NEXTVAL,?,?,?,?);
  SELECT * FROM SPPRODUCT;

java -jar ysoserial-0.0.5-SNAPSHOT-all.jar CommonsCollections5 calc